(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{146:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(26),c=n.n(r),i=n(6),o=n(16),l=n(5),d=n(155),m=n(156),u=n(157),h=n(158),j=n(11),b=n(12),p=n(13),O=n(22),x=n(73),f=n.n(x).a.create({baseURL:"/"}),v=n(9),y=n.n(v),g=function(){return function(e){f.get("/tickets",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(t){var n=t.data;console.log("set tickets",n),e(N(n))}))}},N=function(e){return{type:"SET_TICKETS",payload:e}},k=function(e){return{type:"ADD_TICKET",payload:e}},T=function(e){return function(t){f.delete("/tickets/".concat(e),{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){var n=e.data;t(function(e){return{type:"REMOVE_TICKET",payload:e}}(n._id))}))}},E=function(e){return{type:"UPDATE_TICKET",payload:e}},C=function(e){return console.log("obj",e),function(t){f.put("/tickets/".concat(e.id),e.status,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){console.log("check response",e.data),t(S(e.data))}))}},S=function(e){return{type:"UPDATE_STATUS",payload:e}},w=function(e,t){return e.find((function(e){return e._id===t}))},_=function(e,t){return e.find((function(e){return e._id===t}))},D=function(e,t){return e.find((function(e){return e._id===t}))},M=n(2);var A=Object(l.b)((function(e){return{customers:e.customers,departments:e.departments,employees:e.employees,tickets:e.tickets}}))((function(e){return Object(M.jsx)("div",{children:Object(M.jsxs)("table",{className:"table",children:[Object(M.jsx)("thead",{children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"Code No"}),Object(M.jsx)("th",{children:"Customer"}),Object(M.jsx)("th",{children:"Department"}),Object(M.jsx)("th",{children:"Employees"}),Object(M.jsx)("th",{children:"Message"}),Object(M.jsx)("th",{children:"Priority"}),Object(M.jsx)("th",{children:"Actions"}),Object(M.jsx)("th",{children:"Remove"}),Object(M.jsx)("th",{children:"complete"})]})}),Object(M.jsx)("tbody",{children:e.tickets.map((function(t){var n,a;if(!t.isResolved)return Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:t.code}),0!==e.customers.length&&Object(M.jsx)("td",{children:null===(n=w(e.customers,t.customer))||void 0===n?void 0:n.name}),0!==e.departments.length&&Object(M.jsx)("td",{children:null===(a=_(e.departments,t.department))||void 0===a?void 0:a.name}),0!==e.employees.length&&Object(M.jsx)("td",{children:t.employees.length>0&&t.employees.map((function(t,n){var a;return Object(M.jsxs)("span",{children:[" ",null===(a=D(e.employees,t))||void 0===a?void 0:a.name," "]},n)}))}),Object(M.jsx)("td",{children:t.message}),Object(M.jsx)("td",{children:t.priority}),Object(M.jsx)("td",{children:Object(M.jsx)(i.b,{to:"/tickets/".concat(t._id),children:Object(M.jsx)("button",{className:"btn btn-secondary btn-sm",children:"Show"})})}),Object(M.jsx)("td",{children:Object(M.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){var n;n=t._id,y.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){t.value&&(y.a.fire("Deleted!","Your file has been deleted.","success"),e.dispatch(T(n)))}))},children:"Remove"})}),Object(M.jsx)("td",{children:Object(M.jsx)("input",{type:"checkbox",checked:t.isResolved,onChange:function(){var n;n=t._id,e.dispatch(C({id:n,status:{isResolved:!0}}))},name:"isResolved"})})]},t._id)}))})]})})}));var P=Object(l.b)((function(e){return{customers:e.customers,departments:e.departments,employees:e.employees,tickets:e.tickets}}))((function(e){return Object(M.jsx)("div",{children:Object(M.jsxs)("table",{className:"table",children:[Object(M.jsx)("thead",{children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"Code No"}),Object(M.jsx)("th",{children:"Customer"}),Object(M.jsx)("th",{children:"Department"}),Object(M.jsx)("th",{children:"Employees"}),Object(M.jsx)("th",{children:"Message"}),Object(M.jsx)("th",{children:"Priority"}),Object(M.jsx)("th",{children:"Actions"}),Object(M.jsx)("th",{children:"Remove"}),Object(M.jsx)("th",{children:"Incomplete"})]})}),Object(M.jsx)("tbody",{children:e.tickets.map((function(t){var n,a;if(t.isResolved)return Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:t.code}),0!==e.customers.length&&Object(M.jsx)("td",{children:null===(n=w(e.customers,t.customer))||void 0===n?void 0:n.name}),0!==e.departments.length&&Object(M.jsx)("td",{children:null===(a=_(e.departments,t.department))||void 0===a?void 0:a.name}),0!==e.employees.length&&Object(M.jsx)("td",{children:t.employees.length>0&&t.employees.map((function(t,n){var a;return Object(M.jsx)("span",{children:null===(a=D(e.employees,t))||void 0===a?void 0:a.name},n)}))}),Object(M.jsx)("td",{children:t.message}),Object(M.jsx)("td",{children:t.priority}),Object(M.jsx)("td",{children:Object(M.jsx)(i.b,{to:"/tickets/".concat(t._id),children:Object(M.jsx)("button",{className:"btn btn-secondary btn-sm",children:"Show"})})}),Object(M.jsx)("td",{children:Object(M.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){var n;n=t._id,y.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){t.value&&(y.a.fire("Deleted!","Your file has been deleted.","success"),e.dispatch(T(n)))}))},children:"Remove"})}),Object(M.jsx)("td",{children:Object(M.jsx)("input",{type:"checkbox",checked:t.isResolved,onChange:function(){var n;n=t._id,e.dispatch(C({id:n,status:{isResolved:!1}}))},name:"isResolved"})})]},t._id)}))})]})})})),R=n(159),B=n(36),I=function(e,t){return e.find((function(e){return e._id==t}))},U=function(e){return e.filter((function(e){return!e.isResolved}))};var L=Object(l.b)((function(e){return{ticket:e.tickets,pendingTicket:U(e.tickets)}}))((function(e){console.log("pending",e.pendingTicket);var t=e.pendingTicket.filter((function(e){return"high"===e.priority})).length,n=e.pendingTicket.filter((function(e){return"medium"===e.priority})).length,a=e.pendingTicket.filter((function(e){return"low"===e.priority})).length;return console.log("length",t,n,a),Object(M.jsx)("div",{children:Object(M.jsx)(B.a,{width:"500px",height:"300px",chartType:"PieChart",loader:Object(M.jsx)("div",{children:"Loading Chart"}),data:[["Task","Hours per Day"],["High",t],["Medium",n],["Low",a]],options:{title:"Ticket Priority",is3D:!0},rootProps:{"data-testid":"2"}})})}));var F=Object(l.b)((function(e){return{ticket:e.tickets,pendingTicket:U(e.tickets),departments:e.departments}}))((function(e){var t=e.pendingTicket.filter((function(t){var n;return"IT"===(null===(n=_(e.departments,t.department))||void 0===n?void 0:n.name)})).length,n=e.pendingTicket.filter((function(t){var n;return"Finance"===(null===(n=_(e.departments,t.department))||void 0===n?void 0:n.name)})).length,a=e.pendingTicket.filter((function(t){var n;return"Maths"===(null===(n=_(e.departments,t.department))||void 0===n?void 0:n.name)})).length;return console.log("length",t,n,a),Object(M.jsx)("div",{children:Object(M.jsx)(B.a,{width:"500px",height:"300px",chartType:"Bar",loader:Object(M.jsx)("div",{children:"Loading Chart"}),data:[["Departments","Tickets"],["IT",t],["Finance",n],["Maths",a]],options:{chart:{title:"Tickets By Department"}},rootProps:{"data-testid":"2"}})})})),Y=function(){return function(e){f.get("/customers",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(t){var n=t.data;e(function(e){return{type:"SET_CUSTOMER",payload:e}}(n))}))}},V=function(){return function(e){f.get("/employees",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(t){var n=t.data;e(function(e){return{type:"SET_EMPLOYEES",payload:e}}(n))}))}},K=function(){return function(e){f.get("/departments",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(t){var n=t.data;e(function(e){return{type:"SET_DEPARTMENTS",payload:e}}(n))}))}},H=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).handlePending=function(){a.setState({pending:!0,complete:!1})},a.handleComplete=function(){a.setState({pending:!1,complete:!0})},a.state={pending:!0,complete:!1},a}return Object(b.a)(n,[{key:"render",value:function(){return 0==this.props.tickets.length&&(this.props.dispatch(Y()),this.props.dispatch(K()),this.props.dispatch(V()),this.props.dispatch(g())),Object(M.jsx)("div",{className:"container mt-5",children:this.props?Object(M.jsxs)("div",{children:[Object(M.jsxs)("h2",{children:["Listing Tickets-",this.props.tickets.length]}),Object(M.jsx)("nav",{className:" navbar navbar-expand-lg navbar-light bg-light",children:Object(M.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:Object(M.jsxs)("ul",{className:"navbar-nav",children:[Object(M.jsx)("li",{className:"nav-item active",children:Object(M.jsxs)("button",{className:"nav-link",onClick:this.handlePending,children:["Pending",Object(M.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(M.jsx)("li",{className:"nav-item active",children:Object(M.jsx)("button",{className:"nav-link",onClick:this.handleComplete,children:"Completed"})})]})})}),this.state.pending&&Object(M.jsx)(A,{}),this.state.complete&&Object(M.jsx)(P,{}),Object(M.jsx)(i.b,{to:"/tickets/new",children:Object(M.jsx)("button",{className:"btn btn-primary btn-sm",children:"Add Ticket"})}),Object(M.jsx)(R.a,{animated:!0,style:{marginTop:"20px"},value:this.props.tickets.filter((function(e){return e.isResolved})).length/this.props.tickets.length*100}),Object(M.jsxs)("div",{className:"container",children:[Object(M.jsx)("h3",{style:{textAlign:"center",marginTop:"20px"},children:"Data on Pending Tickets"}),Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("div",{className:"col-md-6",children:Object(M.jsx)(L,{})}),Object(M.jsx)("div",{className:"col-md-6",style:{marginTop:"15px"},children:Object(M.jsx)(F,{})})]})]})]}):Object(M.jsx)("div",{children:Object(M.jsx)("p",{children:"loading..."})})})}}]),n}(s.a.Component),J=Object(l.b)((function(e){return{customers:e.customers,departments:e.departments,employees:e.employees,tickets:e.tickets}}))(H);var q=Object(l.b)((function(e,t){var n=t.match.params.id;return{ticket:I(e.tickets,n),customers:e.customers,departments:e.departments,employees:e.employees}}))((function(e){var t,n,a=e.ticket||{},s=a._id,r=a.code,c=a.customer,o=a.department,l=a.employees,d=a.message,m=a.priority;return Object(M.jsx)("div",{className:"container col-md-6 mt-5",children:e.ticket?Object(M.jsxs)("div",{className:"card text-center",style:{width:"18rem"},children:[Object(M.jsxs)("div",{className:"card-body",children:[Object(M.jsxs)("p",{className:"card-text",children:["Code - ",r]}),Object(M.jsxs)("p",{className:"card-text",children:["Customer -",0!==e.customers.length&&(null===(t=w(e.customers,c))||void 0===t?void 0:t.name)]}),Object(M.jsxs)("p",{className:"card-text",children:["Department -",0!==e.departments.length&&(null===(n=_(e.departments,o))||void 0===n?void 0:n.name)]}),Object(M.jsxs)("p",{className:"card-text",children:["Employees -",0!==e.employees.length&&l.length>0&&l.map((function(t,n){var a;return Object(M.jsx)("span",{children:null===(a=D(e.employees,t))||void 0===a?void 0:a.name},n)}))]}),Object(M.jsxs)("p",{className:"card-text",children:["Message - ",d]}),Object(M.jsxs)("p",{className:"card-text",children:["Priority - ",m]})]}),Object(M.jsxs)("p",{children:[Object(M.jsx)(i.b,{to:"/tickets/edit/".concat(s),children:Object(M.jsx)("button",{type:"button",className:"btn btn-primary m-3 btn-sm",children:"Edit"})}),Object(M.jsx)(i.b,{to:"/tickets",children:Object(M.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",children:"Back"})})]})]}):Object(M.jsx)("div",{children:Object(M.jsx)("p",{children:"loading....."})})})})),z=n(10),G=n(79),Q=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t={code:a.state.code,customer:a.state.customer,department:a.state.department,employees:a.state.employee,message:a.state.message,priority:a.state.priority};console.log("formData",t),a.props.ticket&&(t.id=a.props.ticket._id),a.props.handleSubmit(t)},a.handleChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value));var t=[];a.props.employees.map((function(e){return t.push({value:e.name,_id:e._id,name:e.name,label:e.name,deptId:e.department})})),a.setState({tempEmployee:t}),"department"===e.target.name&&(a.setState({employeesNewList:a.state.tempEmployee.filter((function(t){return t.deptId===e.target.value}))}),console.log("employeeNewList",a.state.employeesNewList))},a.handleMultiChange=function(e){a.setState((function(){return{employee:e}}))},a.state={code:e.ticket?e.ticket.code:"",customer:e.ticket?e.ticket.customer:"",department:e.ticket?e.ticket.department:"",employeesNewList:[],tempEmployee:[],employee:e.ticket?e.ticket.employees:[],message:e.ticket?e.ticket.message:"",priority:e.ticket?e.ticket.priority:""},a}return Object(b.a)(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"container",children:Object(M.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(M.jsxs)("div",{className:"form-group ",children:[Object(M.jsx)("label",{htmlFor:"code",children:"Code"}),Object(M.jsx)("input",{type:"text",name:"code",value:this.state.code,onChange:this.handleChange,id:"code",className:"form-control"})]}),Object(M.jsxs)("div",{className:"form-group ",children:[Object(M.jsx)("label",{htmlFor:"customer",children:"Customer"}),Object(M.jsxs)("select",{id:"customer",value:this.state.customer,onChange:this.handleChange,name:"customer",className:"form-control",children:[Object(M.jsx)("option",{value:"",children:"Select"}),this.props.customers.map((function(e){return Object(M.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(M.jsxs)("div",{className:"form-group ",children:[Object(M.jsx)("label",{htmlFor:"department",children:"Department"}),Object(M.jsxs)("select",{id:"department",value:this.state.department,onChange:this.handleChange,name:"department",className:"form-control",children:[Object(M.jsx)("option",{value:"",children:"Select"}),this.props.departments.map((function(e){return Object(M.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(M.jsxs)("div",{className:"form-group ",children:[Object(M.jsx)("label",{htmlFor:"employees",children:"Employee"}),Object(M.jsx)(G.a,{id:"employees",name:"employees",placeholder:"Select",options:this.state.employeesNewList,onChange:this.handleMultiChange,isMulti:!0,value:this.state.employee})]}),Object(M.jsxs)("div",{className:"form-group ",children:[Object(M.jsx)("label",{htmlFor:"message",children:"Message"}),Object(M.jsx)("textarea",{value:this.state.message,onChange:this.handleChange,name:"message",className:"form-control"})]}),Object(M.jsxs)("div",{className:"form-group ",children:[Object(M.jsx)("label",{htmlFor:"priority",children:"Priority"}),Object(M.jsxs)("div",{className:"form-check form-check-inline pl-3",children:[Object(M.jsx)("input",{type:"radio",checked:"high"===this.state.priority,value:"high",name:"priority",onChange:this.handleChange,className:"form-check-input "}),Object(M.jsx)("label",{className:"form-check-label",children:"High"})]}),Object(M.jsxs)("div",{className:"form-check form-check-inline",children:[Object(M.jsx)("input",{type:"radio",checked:"medium"===this.state.priority,name:"priority",value:"medium",onChange:this.handleChange,className:"form-check-input"}),Object(M.jsx)("label",{className:"form-check-label",children:"Medium"})]}),Object(M.jsxs)("div",{className:"form-check form-check-inline",children:[Object(M.jsx)("input",{type:"radio",checked:"low"===this.state.priority,name:"priority",value:"low",onChange:this.handleChange,className:"form-check-input"}),Object(M.jsx)("label",{className:"form-check-label",children:"Low"})]})]}),Object(M.jsx)("input",{type:"submit",className:"btn btn-primary m-3",value:"submit"}),Object(M.jsx)(i.b,{to:"/tickets",children:Object(M.jsx)("button",{type:"button",className:"btn btn-primary",children:"Back"})})]})})}}]),n}(s.a.Component),W=Object(o.f)(Object(l.b)((function(e,t){var n=t.match.params.id;return{customers:e.customers,departments:e.departments,employees:e.employees,ticket:I(e.tickets,n)}}))(Q));var X=Object(l.b)()((function(e){return Object(M.jsx)("div",{className:"row",children:Object(M.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(M.jsx)("h2",{className:"text-center",style:{marginTop:"30px"},children:"Add Ticket"}),Object(M.jsx)(W,{handleSubmit:function(t){console.log("formdata new",t);e.dispatch(function(e,t){return console.log("formdta",e),function(n){f.post("/tickets",e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){if(e.data.hasOwnProperty("errors")){var a=[];for(var s in e.data.errors)a.push(e.data.errors[s].message);y.a.fire({icon:"error",title:"Oops...",text:"".concat(a.join(", ")),confirmButtonText:"Ok"})}else if("MongoError"===e.data.name)y.a.fire({icon:"error",title:"Oops...",text:"code is already exists",confirmButtonText:"Ok"});else{var r=e.data;n(k(r)),t()}}))}}(t,(function(){return e.history.push("/tickets")})))}})]})})}));var Z=Object(l.b)()((function(e){return Object(M.jsxs)("div",{className:"container col-md-5 offset-md-3",children:[Object(M.jsx)("h2",{className:"text-center",style:{marginTop:"30px"},children:"Edit Ticket"}),Object(M.jsx)(W,{handleSubmit:function(t){var n=e.match.params.id;console.log("edit ticket",t);e.dispatch(function(e,t,n){return function(a){f.put("/tickets/".concat(t),e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){if(e.data.hasOwnProperty("errors")){console.log(e.data);var t=[];for(var s in e.data.errors)t.push(e.data.errors[s].message);y.a.fire({icon:"error",title:"Oops...",text:"".concat(t.join(", ")),confirmButtonText:"Ok"})}else if("MongoError"===e.data.name)y.a.fire({icon:"error",title:"Oops...",text:"code is already exists",confirmButtonText:"Ok"});else if("CastError"===e.data.name||0===e.data.employees.length)y.a.fire({icon:"error",title:"Oops...",text:"kindly fill the required data",confirmButtonText:"Ok"});else{var r=e.data;console.log("updated ticket",r),a(E(r)),n()}}))}}(t,n,(function(){return e.history.push("/tickets")})))}})]})})),$=function(e){return{type:"SET_USER",payload:e}},ee=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(j.a)(this,n),(e=t.call(this)).handleChange=function(t){e.setState(Object(z.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var n={email:e.state.email,password:e.state.password};e.props.dispatch(function(e,t){return function(n){f.post("/users/login",e).then((function(e){e.data.hasOwnProperty("errors")?y.a.fire({icon:"error",title:"Oops...",text:"".concat(e.data.errors),confirmButtonText:"Ok",timer:1e5}):(localStorage.setItem("authToken",e.data.token),t(),f.get("/users/account",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){var a=e.data;n($(a)),y.a.fire({icon:"success",title:"",text:"Successfully loggedin",confirmButtonText:"Ok"}),t()})))}))}}(n,(function(){return e.props.history.push("/users/home")})))},e.state={email:"",password:""},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"row",children:Object(M.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(M.jsx)("h2",{className:"text-center",children:"Login"}),Object(M.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(M.jsxs)("div",{className:"mb-3",children:[Object(M.jsx)("label",{htmlFor:"email",className:"form-label",children:"email"}),Object(M.jsx)("input",{type:"text",id:"email",name:"email",value:this.state.email,onChange:this.handleChange,className:"form-control"})]}),Object(M.jsxs)("div",{className:"mb-3",children:[Object(M.jsx)("label",{htmlFor:"password",className:"form-label",children:"password"}),Object(M.jsx)("input",{type:"password",id:"password",name:"password",value:this.state.password,onChange:this.handleChange,className:"form-control"})]}),Object(M.jsx)("div",{className:"d-grid ",children:Object(M.jsx)("input",{type:"submit",value:"login",className:"btn btn-primary"})}),Object(M.jsx)("p",{className:"text-center",children:" or "}),Object(M.jsx)("p",{className:"text-center",children:Object(M.jsx)(i.b,{to:"/users/register",children:"Register"})})]})]})})}}]),n}(s.a.Component),te=Object(l.b)()(ee),ne=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(j.a)(this,n),(e=t.call(this)).handleChange=function(t){e.setState(Object(z.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var n={username:e.state.username,email:e.state.email,password:e.state.password};e.props.dispatch(function(e,t){return function(){f.post("/users/register",e).then((function(e){if(e.data.hasOwnProperty("errors")){var n=[];for(var a in e.data.errors)n.push(e.data.errors[a].message);y.a.fire({icon:"error",title:"Oops...",text:"".concat(n.join(", ")),confirmButtonText:"Ok",timer:1500})}else"MongoError"===e.data.name?y.a.fire({icon:"error",title:"Oops...",text:"User is already exists",confirmButtonText:"Ok"}):(y.a.fire({icon:"success",title:"",text:"Successfully signedup",confirmButtonText:"Ok"}),t())}))}}(n,(function(){return e.props.history.push("/users/login")})))},e.state={username:"",email:"",password:""},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"row",children:Object(M.jsx)("div",{className:"col-md-6 offset-md-3",children:Object(M.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(M.jsx)("h2",{className:"text-center",children:"Register "}),Object(M.jsxs)("div",{className:"mb-3",children:[Object(M.jsx)("label",{htmlFor:"username",className:"form-label",children:"username"}),Object(M.jsx)("input",{type:"text",id:"username",name:"username",value:this.state.username,onChange:this.handleChange,className:"form-control"})]}),Object(M.jsxs)("div",{className:"mb-3",children:[Object(M.jsx)("label",{htmlFor:"email",className:"form-label",children:"email"}),Object(M.jsx)("input",{type:"text",id:"email",name:"email",value:this.state.email,onChange:this.handleChange,className:"form-control"})]}),Object(M.jsxs)("div",{className:"mb-3",children:[Object(M.jsx)("label",{htmlFor:"password",className:"form-label",children:"password"}),Object(M.jsx)("input",{type:"password",id:"password",name:"password",value:this.state.password,onChange:this.handleChange,className:"form-control"})]}),Object(M.jsx)("input",{type:"submit",value:"register",className:"btn btn-primary"})]})})})}}]),n}(s.a.Component),ae=Object(l.b)()(ne);var se=function(){return Object(M.jsx)("div",{children:Object(M.jsx)("h1",{children:"Home"})})};var re=Object(l.b)((function(e){return{user:e.user}}))((function(e){return console.log("Account",e),Object(M.jsxs)("div",{children:[Object(M.jsxs)("h2",{children:[e.user.username," "]}),Object(M.jsxs)("h2",{children:[e.user.email," "]})]})})),ce=n(31);var ie=Object(l.b)((function(e){return{customers:e.customers}}))((function(e){var t=function(t){window.confirm("are u sure")&&(console.log(t),e.dispatch(function(e){return function(t){f.delete("/customers/".concat(e),{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){var n=e.data;t(function(e){return{type:"REMOVE_CUSTOMER",payload:e}}(n._id))}))}}(t)))};0===e.customers.length&&e.dispatch(Y());var n={columns:[{label:"Sl.No",field:"slno"},{label:"Name",field:"name"},{label:"Email",field:"email"},{label:"Mobile",field:"mobile"},{label:"Actions",field:"actions"}],rows:e.customers.map((function(e,n){return{slno:n+1,name:e.name,email:e.email,mobile:e.mobile,actions:Object(M.jsxs)("div",{children:[Object(M.jsx)(i.b,{className:"btn btn-secondary btn-sm",to:"/customers/".concat(e._id),children:"show"}),Object(M.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){t(e._id)},children:"remove"})]})}}))};return Object(M.jsx)("div",{className:"row",children:Object(M.jsxs)("div",{className:"col-md-12",children:[Object(M.jsxs)("h2",{children:["Listing Cust-",e.customers.length," "]}),Object(M.jsx)(ce.c,{data:n,hover:!0,entriesOptions:[5,20,25],entries:5,pagesAmount:4,searchTop:!0,searchBottom:!1}),Object(M.jsx)(i.b,{to:"/customers/new",className:"btn btn-primary btn-sm",children:" Add Customer"})]})})}));var oe=Object(l.b)((function(e,t){var n=t.match.params.id;return{customer:w(e.customers,n)}}))((function(e){var t=e.customer||{},n=t._id,a=t.name,s=t.email,r=t.mobile;return Object(M.jsx)("div",{className:"container col-md-6 mt-5",children:e.customer?Object(M.jsx)("div",{className:"card text-center",style:{width:"18rem"},children:Object(M.jsxs)("div",{className:"card-body",children:[Object(M.jsx)("h5",{className:"card-title",children:"Customer Details"}),Object(M.jsxs)("p",{className:"card-text",children:[" ",a]}),Object(M.jsxs)("p",{className:"card-text",children:[" ",s]}),Object(M.jsx)("p",{className:"card-text",children:r}),Object(M.jsx)(i.b,{to:"/customers/edit/".concat(n),children:Object(M.jsx)("button",{type:"button",className:"btn btn-primary m-3 btn-sm",children:"Edit"})}),Object(M.jsx)(i.b,{to:"/customers",children:Object(M.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",children:"Back"})})]})}):Object(M.jsx)("div",{children:Object(M.jsx)("p",{children:"loading...."})})})})),le=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={name:a.state.name,email:a.state.email,mobile:a.state.mobile};a.props.handleSubmit(t)},console.log("props",e),a.state={name:e.customer?e.customer.name:"",email:e.customer?e.customer.email:"",mobile:e.customer?e.customer.mobile:""},a}return Object(b.a)(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"row",children:Object(M.jsx)("div",{className:"col-md-6 offset-md-3",children:Object(M.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(M.jsx)("label",{htmlFor:"name",className:"form-label",children:"name"}),Object(M.jsx)("input",{type:"text",id:"name",name:"name",value:this.state.name,onChange:this.handleChange,className:"form-control"}),Object(M.jsx)("label",{htmlFor:"email",className:"form-label",children:"email"}),Object(M.jsx)("input",{type:"text",id:"email",name:"email",value:this.state.email,onChange:this.handleChange,className:"form-control"}),Object(M.jsx)("label",{htmlFor:"mobile",className:"form-label",children:"mobile"}),Object(M.jsx)("input",{type:"text",id:"mobile",name:"mobile",value:this.state.mobile,onChange:this.handleChange,className:"form-control"}),Object(M.jsx)("br",{}),Object(M.jsx)("input",{type:"submit",value:"submit",className:"btn btn-primary btn-sm"})]})})})}}]),n}(s.a.Component),de=Object(o.f)(Object(l.b)((function(e,t){console.log("form",t);var n=t.match.params.id;return{customer:w(e.customers,n)}}))(le));var me=Object(l.b)()((function(e){return Object(M.jsxs)("div",{children:[Object(M.jsx)("h2",{className:"text-center",children:" Add Customer"}),Object(M.jsx)(de,{handleSubmit:function(t){e.dispatch(function(e,t){return function(n){f.post("/customers",e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){if(e.data.hasOwnProperty("errors")){console.log(e.data);var a=[];for(var s in e.data.errors)a.push(e.data.errors[s].message);y.a.fire({icon:"error",title:"Oops...",text:"".concat(a.join(", ")),confirmButtonText:"Ok"})}else if("MongoError"===e.data.name)y.a.fire({icon:"error",title:"Oops...",text:"name / email are already exists",confirmButtonText:"Ok"});else{var r=e.data;n(function(e){return{type:"ADD_CUSTOMER",payload:e}}(r)),t()}}))}}(t,(function(){return e.history.push("/customers")})))}})]})}));var ue=Object(l.b)()((function(e){return Object(M.jsxs)("div",{children:[Object(M.jsx)("h2",{className:"text-center",children:" Update Customer"}),Object(M.jsx)(de,{handleSubmit:function(t){var n=e.match.params.id;e.dispatch(function(e,t,n){return function(a){f.put("/customers/".concat(t),e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){if(e.data.hasOwnProperty("errors")){console.log(e.data);var t=[];for(var s in e.data.errors)t.push(e.data.errors[s].message);y.a.fire({icon:"error",title:"Oops...",text:"".concat(t.join(", ")),confirmButtonText:"Ok"})}else if("MongoError"===e.data.name)y.a.fire({icon:"error",title:"Oops...",text:"name / email are already exists",confirmButtonText:"Ok"});else{var r=e.data;a(function(e){return{type:"UPDATE_CUSTOMER",payload:e}}(r)),n()}}))}}(t,n,(function(){return e.history.push("/customers")})))}})]})}));var he=Object(l.b)((function(e){return{departments:e.departments}}))((function(e){0===e.departments.length&&e.dispatch(K());var t=function(t){if(window.confirm("Are you sure")){e.dispatch(function(e,t){return function(n){f.delete("/departments/".concat(e),{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){var a=e.data;n(function(e){return{type:"REMOVE_DEPARTMENT",payload:e}}(a._id)),t()}))}}(t,(function(){e.history.push("/departments")})))}},n={columns:[{label:"Sl.No",field:"slno"},{label:"Name",field:"name"},{label:"Actions",field:"actions"}],rows:e.departments.map((function(e,n){return{slno:n+1,name:e.name,actions:Object(M.jsxs)("div",{children:[Object(M.jsx)(i.b,{to:"/departments/".concat(e._id),className:"btn btn-secondary btn-sm",children:" show "}),Object(M.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){t(e._id)},children:"   remove"})]})}}))};return Object(M.jsx)("div",{className:"row",children:Object(M.jsxs)("div",{className:"col-md-12",children:[Object(M.jsxs)("h2",{children:[" Departments List-",e.departments.length]}),Object(M.jsx)(ce.c,{data:n,hover:!0,entriesOptions:[5,20,25],entries:5,pagesAmount:4,searchTop:!0,searchBottom:!1}),Object(M.jsx)(i.b,{to:"/departments/new",className:"btn btn-primary btn-sm",children:" Add Department "})]})})})),je=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={name:a.state.name};console.log("dept",a.props),a.props.handleSubmit(t)},console.log(e),a.state={name:e.department?e.department.name:""},a}return Object(b.a)(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"row",children:Object(M.jsx)("div",{className:"col-md-6 offset-md-3",children:Object(M.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(M.jsx)("label",{htmlFor:"name",className:"form-label",children:" name "}),Object(M.jsx)("input",{type:"text",value:this.state.name,id:"name",name:"name",onChange:this.handleChange,className:"form-control"}),Object(M.jsx)("br",{}),Object(M.jsx)("input",{type:"submit",value:"submit",className:"btn btn-primary btn-sm"})]})})})}}]),n}(s.a.Component),be=Object(o.f)(Object(l.b)((function(e,t){var n=t.match.params.id;return{department:_(e.departments,n)}}))(je));var pe=Object(l.b)()((function(e){return Object(M.jsxs)("div",{children:[Object(M.jsx)("h2",{className:"text-center",children:"Add Department"}),Object(M.jsx)(be,{handleSubmit:function(t){return e.dispatch(function(e,t){return function(n){f.post("/departments",e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){if(e.data.hasOwnProperty("errors")){var a=[];for(var s in e.data.errors)a.push(e.data.errors[s].message);y.a.fire({icon:"error",title:"Oops...",text:"".concat(a.join(", ")),confirmButtonText:"Ok"})}else if("MongoError"===e.data.name)y.a.fire({icon:"error",title:"Oops...",text:"Department is already exists",confirmButtonText:"Ok"});else{var r=e.data;n(function(e){return{type:"ADD_DEPARTMENT",payload:e}}(r)),t()}}))}}(t,(function(){e.history.push("/departments")})))}})]})}));var Oe=Object(l.b)((function(e,t){console.log(t);var n=t.match.params.id;return{department:_(e.departments,n)}}))((function(e){var t=e.department||{};return t._id,t.name,Object(M.jsx)("div",{className:"container col-md-6 mt-5",children:e.department?Object(M.jsx)("div",{className:"card text-center",style:{width:"18rem"},children:Object(M.jsxs)("div",{className:"card-body",children:[Object(M.jsx)("h5",{className:"card-title",children:" Department Details  "}),Object(M.jsx)("p",{className:"card-text",children:e.department.name}),Object(M.jsx)(i.b,{to:"/departments/edit/".concat(e.department._id),children:Object(M.jsx)("button",{type:"button",className:"btn btn-primary m-3 btn-sm",children:"Edit"})}),Object(M.jsx)(i.b,{to:"/departments",children:Object(M.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",children:"Back"})})]})}):Object(M.jsx)("div",{children:Object(M.jsx)("p",{children:"loading..."})})})}));var xe=Object(l.b)()((function(e){return Object(M.jsx)("div",{children:Object(M.jsx)("h2",{children:Object(M.jsx)(be,{handleSubmit:function(t){var n=e.match.params.id;e.dispatch(function(e,t,n){return function(a){f.put("/departments/".concat(t),e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){if(e.data.hasOwnProperty("errors")){var t=[];for(var s in e.data.errors)t.push(e.data.errors[s].message);y.a.fire({icon:"error",title:"Oops...",text:"".concat(t.join(", ")),confirmButtonText:"Ok"})}else if("MongoError"===e.data.name)y.a.fire({icon:"error",title:"Oops...",text:"Department is already exists",confirmButtonText:"Ok"});else{var r=e.data;a(function(e){return{type:"UPDATE_DEPARTMENT",payload:e}}(r)),n(),a({type:"UPDATE_EMPLOYEE_DEPARTMENT",payload:r})}}))}}(t,n,(function(){e.history.push("/departments")})))}})})})}));var fe=Object(l.b)((function(e){return{employees:e.employees,departments:e.departments}}))((function(e){0===e.employees.length&&(e.dispatch(V()),e.dispatch(K()));var t=function(t){if(window.confirm("Are you sure")){e.dispatch(function(e,t){return function(n){f.delete("/employees/".concat(e),{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){var a=e.data;n(function(e){return{type:"REMOVE_EMPLOYEE",payload:e}}(a._id)),t()}))}}(t,(function(){e.history.push("/employees")})))}},n={columns:[{label:"Sl.No",field:"slno"},{label:"Name",field:"name"},{label:"Email",field:"email"},{label:"Mobile",field:"mobile"},{label:"Department",field:"department"},{label:"Actions",field:"actions"}],rows:e.employees.map((function(n,a){var s,r;return{slno:a+1,name:n.name,email:n.email,mobile:n.mobile,department:null===(r=n.department,s=e.departments.find((function(e){return e._id===r})))||void 0===s?void 0:s.name,actions:Object(M.jsxs)("div",{children:[Object(M.jsx)(i.b,{to:"/employees/".concat(n._id),className:"btn btn-secondary btn-sm",children:"show"}),Object(M.jsx)("button",{onClick:function(){t(n._id)},className:"btn btn-danger btn-sm",children:"remove"})]})}}))};return Object(M.jsx)("div",{className:"row",children:Object(M.jsxs)("div",{className:"col-md-12",children:[Object(M.jsxs)("h2",{children:[" Employees List-",e.employees.length]}),Object(M.jsx)(ce.c,{data:n,hover:!0,entriesOptions:[5,20,25],entries:5,pagesAmount:4,searchTop:!0,searchBottom:!1}),Object(M.jsx)(i.b,{to:"/employees/new",className:"btn btn-primary btn-sm",children:" Add Eployee "})]})})})),ve=n(150),ye=n(151),ge=n(152),Ne=n(153),ke=n(154),Te=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={name:a.state.name,email:a.state.email,mobile:a.state.mobile,department:a.state.department};a.props.employee&&(t.id=a.props.employee._id),console.log("emp",a.props),a.props.handleSubmit(t)},console.log(e),a.state={name:e.employee?e.employee.name:"",email:e.employee?e.employee.email:"",mobile:e.employee?e.employee.mobile:"",department:e.employee?e.employee.department:""},a}return Object(b.a)(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"row",children:Object(M.jsx)("div",{className:"col-md-6 offset-md-3",children:Object(M.jsxs)(ve.a,{onSubmit:this.handleSubmit,children:[Object(M.jsxs)(ye.a,{children:[Object(M.jsx)(ge.a,{htmlFor:"name",className:"form-label",children:"Name"}),Object(M.jsx)(Ne.a,{type:"text",id:"name",value:this.state.name,onChange:this.handleChange,name:"name"}),Object(M.jsx)("br",{})]}),Object(M.jsxs)(ye.a,{children:[Object(M.jsx)(ge.a,{htmlFor:"email",className:"form-label",children:"Email"}),Object(M.jsx)(Ne.a,{type:"text",id:"email",value:this.state.email,onChange:this.handleChange,name:"email"}),Object(M.jsx)("br",{})]}),Object(M.jsxs)(ye.a,{children:[Object(M.jsx)(ge.a,{htmlFor:"mobile",className:"form-label",children:"Mobile"}),Object(M.jsx)(Ne.a,{type:"text",id:"mobile",value:this.state.mobile,onChange:this.handleChange,name:"mobile"}),Object(M.jsx)("br",{})]}),Object(M.jsxs)(ye.a,{children:[Object(M.jsx)(ge.a,{htmlFor:"department",className:"form-label",children:"Department"}),Object(M.jsxs)(Ne.a,{type:"select",id:"department",value:this.state.department,onChange:this.handleChange,name:"department",children:[Object(M.jsx)("option",{value:"",children:"select"}),this.props.departments.map((function(e){return Object(M.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),Object(M.jsx)("br",{})]}),Object(M.jsx)(ke.a,{type:"submit",value:"submit",color:"primary",children:"Submit"})]})})})}}]),n}(s.a.Component),Ee=Object(o.f)(Object(l.b)((function(e,t){var n=t.match.params.id;return{employee:D(e.employees,n),departments:e.departments}}))(Te));var Ce=Object(l.b)()((function(e){return Object(M.jsxs)("div",{children:[Object(M.jsx)("h2",{className:"text-center",children:"Add Employee"}),Object(M.jsx)(Ee,{handleSubmit:function(t){return e.dispatch(function(e,t){return function(n){f.post("/employees",e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){if(e.data.hasOwnProperty("errors")){var a=[];for(var s in e.data.errors)a.push(e.data.errors[s].message);y.a.fire({icon:"error",title:"Oops...",text:"".concat(a.join(", ")),confirmButtonText:"Ok"})}else if("MongoError"===e.data.name)y.a.fire({icon:"error",title:"Oops...",text:"name / email are already exists",confirmButtonText:"Ok"});else{var r=e.data;n(function(e){return{type:"ADD_EMPLOYEE",payload:e}}(r)),t()}}))}}(t,(function(){e.history.push("/employees")})))}})]})}));var Se=Object(l.b)((function(e,t){console.log(t);var n=t.match.params.id;return{employee:D(e.employees,n)}}))((function(e){var t=e.employee||{},n=t._id,a=t.name,s=t.email,r=t.mobile;return Object(M.jsx)("div",{className:"container col-md-6 mt-5",children:e.employee?Object(M.jsx)("div",{className:"card text-center",style:{width:"18rem"},children:Object(M.jsxs)("div",{className:"card-body",children:[Object(M.jsx)("h5",{children:"Employee Details"}),Object(M.jsxs)("p",{className:"card-text",children:["Name-",a]}),Object(M.jsxs)("p",{className:"card-text",children:["Email-",s]}),Object(M.jsxs)("p",{className:"card-text",children:["Mobile-",r]}),Object(M.jsx)(i.b,{to:"/employees/edit/".concat(n),children:Object(M.jsx)("button",{type:"button",className:"btn btn-primary m-3 btn-sm",children:"Edit"})}),Object(M.jsx)(i.b,{to:"/employees",children:Object(M.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",children:"Back"})})]})}):Object(M.jsx)("div",{children:Object(M.jsx)("p",{children:"loading.."})})})}));var we=Object(l.b)((function(e,t){var n=t.match.params.id;return{employee:e.employees.find((function(e){return e._id===n}))}}))((function(e){return Object(M.jsxs)("div",{children:[Object(M.jsx)("h2",{className:"text-center",children:" Edit Employee"}),Object(M.jsx)(Ee,{handleSubmit:function(t){var n=e.match.params.id;e.dispatch(function(e,t,n){return function(a){f.put("/employees/".concat(t),e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){if(e.data.hasOwnProperty("errors")){var t=[];for(var s in e.data.errors)t.push(e.data.errors[s].message);y.a.fire({icon:"error",title:"Oops...",text:"".concat(t.join(", ")),confirmButtonText:"Ok"})}else if("CastError"===e.data.name)y.a.fire({icon:"error",title:"Oops...",text:"".concat(e.data.message),confirmButtonText:"Ok"});else if("MongoError"===e.data.name)y.a.fire({icon:"error",title:"Oops...",text:"name / email are already exists",confirmButtonText:"Ok"});else{var r=e.data;console.log("updated employee",r),a({type:"UPDATE_EMPLOYEE",payload:r}),n()}}))}}(t,n,(function(){e.history.push("/employees")})))}})]})}));var _e=Object(l.b)((function(e){return{user:e.user}}))((function(e){console.log("app",e);var t=function(){e.dispatch((function(e){f.delete("/users/logout",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(t){t.data.notice&&(localStorage.removeItem("authToken"),e({type:"REMOVE_USER"}),y.a.fire({icon:"success",title:"",text:"Successfully logged out",confirmButtonText:"Ok"}),window.location.href="/users/logout")}))}))};return Object(M.jsx)(i.a,{children:Object(M.jsxs)("div",{className:"container",children:[Object(M.jsx)(d.a,{color:"light",light:!0,expand:"md",className:"mb-5",children:Object(M.jsxs)(m.a,{className:"ml-auto",navbar:!0,children:[Object(M.jsx)(u.a,{children:"Ticket Master"}),Object(M.jsx)(h.a,{children:Object(M.jsx)(i.b,{className:"nav-link text-primary",to:"/home",children:"Home"})}),0===Object.keys(e.user).length?Object(M.jsxs)(s.a.Fragment,{children:[Object(M.jsx)(h.a,{children:Object(M.jsx)(i.b,{className:"nav-link text-primary",to:"/users/login",children:"Login"})}),Object(M.jsx)(h.a,{children:Object(M.jsx)(i.b,{className:"nav-link text-primary",to:"/users/register",children:"Register"})})]}):Object(M.jsxs)(s.a.Fragment,{children:[Object(M.jsx)(h.a,{children:Object(M.jsxs)(i.b,{className:"nav-link text-primary",to:"/customers",children:[" ","Customers"," "]})}),Object(M.jsx)(h.a,{children:Object(M.jsxs)(i.b,{className:"nav-link text-primary",to:"/users/account",children:[" ","Account"," "]})}),Object(M.jsx)(h.a,{children:Object(M.jsx)(i.b,{className:"nav-link text-primary",to:"/departments",children:"Departments"})}),Object(M.jsx)(h.a,{children:Object(M.jsx)(i.b,{className:"nav-link text-primary",to:"/employees",children:"Employees"})}),Object(M.jsx)(h.a,{children:Object(M.jsx)(i.b,{className:"nav-link text-primary",to:"/tickets",children:"Tickets"})}),Object(M.jsx)(h.a,{children:Object(M.jsx)(i.b,{className:"nav-link text-primary",to:"#",onClick:function(){t()},children:"Logout"})})]})]})}),Object(M.jsx)("div",{className:"container",children:Object(M.jsxs)(o.c,{children:[Object(M.jsx)(o.a,{path:"/home",component:se}),Object(M.jsx)(o.a,{path:"/users/login",component:te}),Object(M.jsx)(o.a,{path:"/users/register",component:ae}),Object(M.jsx)(o.a,{path:"/users/account",component:re}),Object(M.jsx)(o.a,{path:"/customers",component:ie,exact:!0}),Object(M.jsx)(o.a,{path:"/customers/new",component:me}),Object(M.jsx)(o.a,{path:"/customers/edit/:id",component:ue}),Object(M.jsx)(o.a,{path:"/customers/:id",component:oe}),Object(M.jsx)(o.a,{path:"/departments",component:he,exact:!0}),Object(M.jsx)(o.a,{path:"/departments/new",component:pe}),Object(M.jsx)(o.a,{path:"/departments/edit/:id",component:xe,exact:!0}),Object(M.jsx)(o.a,{path:"/departments/:id",component:Oe,exact:!0}),Object(M.jsx)(o.a,{path:"/employees",component:fe,exact:!0}),Object(M.jsx)(o.a,{path:"/employees/new",component:Ce}),Object(M.jsx)(o.a,{path:"/employees/edit/:id",component:we}),Object(M.jsx)(o.a,{path:"/employees/:id",component:Se}),Object(M.jsx)(o.a,{path:"/tickets",component:J,exact:!0}),Object(M.jsx)(o.a,{path:"/tickets/new",component:X}),Object(M.jsx)(o.a,{path:"/tickets/edit/:id",component:Z}),Object(M.jsx)(o.a,{path:"/tickets/:id",component:q})]})})]})})})),De=n(37),Me=n(78),Ae=n(15),Pe={},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(Ae.a)({},t.payload);case"REMOVE_USER":return Pe;default:return Object(Ae.a)({},e)}},Be=n(19),Ie=[],Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CUSTOMER":return[].concat(Object(Be.a)(e),[t.payload]);case"SET_CUSTOMER":return Object(Be.a)(t.payload);case"REMOVE_CUSTOMER":return e.filter((function(e){return e._id!==t.payload}));case"UPDATE_CUSTOMER":return e.map((function(e){return e._id===t.payload._id?Object(Ae.a)(Object(Ae.a)({},e),t.payload):Object(Ae.a)({},e)}));default:return Object(Be.a)(e)}},Le=[],Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DEPARTMENTS":return Object(Be.a)(t.payload);case"REMOVE_DEPARTMENT":return e.filter((function(e){return e._id!==t.payload}));case"ADD_DEPARTMENT":return[].concat(Object(Be.a)(e),[t.payload]);case"UPDATE_DEPARTMENT":return e.map((function(e){return e._id===t.payload._id?Object(Ae.a)(Object(Ae.a)({},e),t.payload):Object(Ae.a)({},e)}));default:return Object(Be.a)(e)}},Ye=[],Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EMPLOYEES":return Object(Be.a)(t.payload);case"REMOVE_EMPLOYEE":return e.filter((function(e){return e._id!==t.payload}));case"ADD_EMPLOYEE":return[].concat(Object(Be.a)(e),[t.payload]);case"UPDATE_EMPLOYEE":return e.map((function(e){return e._id===t.payload._id?Object(Ae.a)(Object(Ae.a)({},e),t.payload):Object(Ae.a)({},e)}));default:return Object(Be.a)(e)}},Ke=[],He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TICKETS":return Object(Be.a)(t.payload);case"UPDATE_STATUS":return e.map((function(e){return e._id==t.payload._id?t.payload:e}));case"ADD_TICKET":return[].concat(Object(Be.a)(e),[t.payload]);case"REMOVE_TICKET":return e.filter((function(e){return e._id!=t.payload}));case"UPDATE_TICKET":return e.map((function(e){return e._id==t.payload._id?Object(Ae.a)(Object(Ae.a)({},e),t.payload):Object(Ae.a)({},e)}));default:return Object(Be.a)(e)}},Je=function(){return Object(De.c)(Object(De.b)({user:Re,customers:Ue,departments:Fe,employees:Ve,tickets:He}),Object(De.a)(Me.a))},qe=(n(145),Je());qe.subscribe((function(){console.log(qe.getState())})),localStorage.getItem("authToken")&&(qe.dispatch((function(e){f.get("/users/account",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(t){var n=t.data;e($(n))}))})),qe.dispatch(Y()),qe.dispatch(K()),qe.dispatch(V()),qe.dispatch(g()));var ze=Object(M.jsx)(l.a,{store:qe,children:Object(M.jsx)(_e,{})});c.a.render(ze,document.getElementById("root"))}},[[146,1,2]]]);
//# sourceMappingURL=main.f1d7d6ca.chunk.js.map